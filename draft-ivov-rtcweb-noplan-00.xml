<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<!DOCTYPE rfc SYSTEM "rfc2629.dtd">

<rfc category="std" ipr="trust200902"
     docName="draft-ivov-rtcweb-noplan-00">

<?rfc toc='yes' ?>
<?rfc symrefs='yes' ?>
<?rfc sortrefs='yes'?>
<?rfc iprnotified='no' ?>
<?rfc strict='yes' ?>
<?rfc compact='yes' ?>
  <front>
    <title abbrev="No Plan: SDP O/A with Multiple SSRCs ">No Plan:
      Economical Use of the Offer/Answer Model with Multiple Media
      Sources
    </title>

    <author initials='E.' surname='Ivov' fullname='Emil Ivov'>
      <organization abbrev='Jitsi'>Jitsi</organization>
      <address>
        <postal>
          <street></street>
          <city>Strasbourg</city>
          <code>67000</code>
          <country>France</country>
        </postal>
        <phone>+33-672-811-555</phone>
        <email>emcho@jitsi.org</email>
      </address>
    </author>
    <date/>

    <abstract>
      <t>
        This document a model for lightweight use of SDP Offer/Answer in
        WebRTC. The goal is to minimize reliance on Offer/Answer
        exchanges in a WebRTC session and provide applications with the
        tools necessary to implement the signalling that they may need
        in a way that best fits their requirements and topologies. This
        simplifies signalling of multiple media sources or providing
        RTP Synchronisation source (SSRC) identification in multi-party
        sessions. Another important goal of this model is to remove from
        clients topological constraints such as the requirement to know
        all SSRC identifiers that they could potentially introduce in a
        particular session and the need to announce them prior to
        actually sending them.
      </t>
      <t>
        This document does not question the use of SDP and the
        Offer/Answer model or the value they have in terms of
        interoperability with legacy or other non-WebRTC devices.
      </t>
    </abstract>
  </front>
  <middle>
    <section title='Background' anchor="background">
      <t>
        In its early stages the RTCWEB working group chose to use the
        Session Description Protocol (SDP) and the Offer/Answer model
        <xref target="RFC3264"/> when establishing and
        negotiating sessions. This choice was also accompanied by the
        decision not to mandate a specific signalling protocol so that,
        once interoperability has been achieved, web applications can
        choose the semantics that best fit their requirements. In some
        scenarios however, such as those involving the use of multiple
        media sources, these choices have left open the issue of exactly
        which operations should be handled by SDP Offer/Answer and which
        of them should be left to application-specific signalling.
      </t>
      <t>
        At the time of writing of this document, the RTCWEB working
        group is considering two approaches to addressing the issue,
        that are often referred to as Plan A <xref target="PlanA"/> and
        Plan B <xref target="PlanB"/>. Both of them describe semantics
        that require Offer/Answer exchanges in a number of situations
        where this could be avoided, particularly when adding or
        removing a media source to a session. This requirement applies
        equally to cases where a client adds the stream of a newly
        activated web cam, a simulcast flow or upon the arrival or
        departure of a conference participant.
      </t>
      <t>
        Plan A handles such notifications with the addition or removal
        of independent m= lines <xref target="PlanA"/>, while Plan B
        relies on the use of multiplexed m= lines but still depends
        on the Offer/Answer exchanges for the addition or removal of
        media stream identifiers <xref target="MSID"/>.
      </t>
      <t>
        By taking the Offer/Aanswer approach, both Plan A and Plan B
        take away from the application the opportunity to handle such
        events in away that is most fitting for the use case, which,
        among other things, also goes against the working group's
        decision to not to define a specific signalling protocol. (It
        could be argued that it is therefore only natural how proponents
        of each plan, having different use cases in mind, are remarkably
        far from reaching consensus).
      </t>
      <t>
        Another problem, more specific to Plan B, is the reliance on
        preliminary announcement of SSRC identifiers for stream
        identification. Why this could be perceived as relatively
        straightforward in one-to-one sessions or even conference calls
        within controlled environments, it can be a problem in the
        following cases:
      </t>
      <t>
        <list style="symbols">
          <t>
            interoperability with legacy/non-WebRTC endpoints
          </t>
          <t>
            use within non-controlled and potentially federated
            conference environments where new RTP streams may appear
            relatively often. In such cases the signalling required to
            describe all of them through Offer/Answer may represent
            substantial overhead while none or only a part of it (e.g.
            the description of a main, active speaker stream) may be
            required by the application.
          </t>
        </list>

      </t>
      <t>
        By increasing the number of Offer/Answer exchanges Both Plan A
        and Plan B also increase the risk of encountering glare
        situations (i.e. cases where both parties in a session attempt
        to change the session at the same time). While glare is possible
        with basic Offer/Answer and resolution of such situations must
        be implemented anyway, the need to frequently resort to such
        code may either negatively impact user experience (e.g. when
        "back off" resolution is used) or require substantial
        modifications in the Offer/Answer model and/or further venturing
        into the land of signalling protocols
        <xref target="ROACH-GLARELESS-ADD"/>.
      </t>
    </section>
    <section title='Introduction' anchor="intro">
      <t>
        The goal of this document is to provide directions for use of
        the SDP Offer/Answer model in a way that satisfies the following
        requirements and that allows:
      </t>
      <t>
        <list style="symbols">
          <t>
            the  addition and removal of alternative media
            sources (e.g. conference participants, multiple web cams
            or "slides" ) without the need of Offer/Answer exchanges
          </t>
          <t>
            call establishment without requiring preliminary
            announcement or knowledge of all potentially participating
            media sources.
          </t>
          <t>
            application layer signalling to cover all semantics other
            than those that are necessary for establishing a transport
            channel and initializing codec/processing chains.
          </t>
          <t>
            interoperability with legacy endpoints with rudimentary
            support for Offer/Answer. This includes devices that allow
            for one audio and potentially one video m= line and that
            expect to only ever be required to render a single RTP
            stream at a time for any of them.
          </t>
        </list>
      </t>
      <t>
        To achieve the above requirements this specification relies on
        only relies on SDP Offer/Answer for establishing
      </t>
      <t>app-specific signalling: SDP, xmpp, rfc4575, clue</t>

      <t>
        The actual semantics presented here do not differ fundamentally
        from those proposed by Plan A and Plan B. The main
        differentiation point of this approach is the fact that the
        exact protocol mechanism is left to applications.
      </t>
    </section>
    <section title="Security Considerations" anchor="security">
      <t>
        None.
      </t>
    </section>
    <section title="IANA Considerations" anchor="iana">
      <t>
        None.
      </t>
    </section>
  </middle>

  <back>
    <references title='Normative References'>
      <?rfc include="reference.RFC.4575"?>
    </references>
    <references title='Informative References'>
      <?rfc include="reference.RFC.3264"?>
    <!--
      <?rfc include="reference.I-D.roach-rtcweb-plan-a"?>
    -->

      <!-- Plan A -->
      <reference anchor="PlanA"
                 target="reference.I-D.roach-rtcweb-plan-a">
        <front>
          <title>Using SDP with Large Numbers of Media Flows</title>
          <author initials="A. B." surname="Roach"
                  fullname="Adam Roach">
            <organization abbrev='Mozilla'>Mozilla</organization>
          </author>
          <author initials="M." surname="Thomson"
                  fullname="Martin Thomson">
            <organization abbrev='Microsoft'>Microsoft</organization>
          </author>
          <date month="May" day="07" year="2013" />
        </front>
        <seriesInfo name='Internet-Draft'
                    value='reference.I-D.roach-rtcweb-plan-a' />
      </reference>

      <!-- Plan B -->
      <reference anchor="PlanB"
                 target="reference.I-D.uberti-rtcweb-plan">
        <front>
          <title>Plan B: a proposal for signaling multiple media sources
                 in WebRTC.</title>
          <author initials="J." surname="Uberti"
                  fullname="Justin Uberti">
            <organization abbrev='Google'>Google</organization>
          </author>
          <date month="May" day="03" year="2013" />
        </front>
        <seriesInfo name='Internet-Draft'
                    value='reference.I-D.uberti-rtcweb-plan' />
      </reference>

      <!-- MSID -->
      <reference anchor="MSID"
                 target="reference.I-D.ietf-mmusic-msid">
        <front>
          <title>Cross Session Stream Identification in the Session
                 Description Protocol</title>
          <author initials="H." surname="Alvestrand"
                  fullname="Harald Alvestrand">
            <organization abbrev='Google'>Google</organization>
          </author>
          <date month="February" day="10" year="2013" />
        </front>
        <seriesInfo name='Internet-Draft'
                    value='reference.I-D.ietf-mmusic-msid' />
      </reference>

      <!-- ROACH-GLARELESS-ADD -->
      <reference anchor="ROACH-GLARELESS-ADD"
                 target="reference.I-D.roach-rtcweb-glareless-add">
        <front>
          <title>An Approach for Adding RTCWEB Media Streams without
                 Glare</title>
          <author initials="A. B." surname="Roach"
                  fullname="Adam Roach">
            <organization abbrev='Mozilla'>Mozilla</organization>
          </author>
          <date month="May" day="07" year="2013" />
        </front>
        <seriesInfo name='Internet-Draft'
                    value='reference.I-D.roach-rtcweb-glareless-add' />
      </reference>

    </references>
    <section title='Acknowledgements'>
      <t>

      </t>
    </section>
  </back>

</rfc>
